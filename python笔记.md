# python笔记
## 关于函数参数的问题

> * 在Python中定义函数，可以用必选参数、默认参数、可变参数、关键字参数和命名关键字参数，这5种参数都可以组合使用。但是请注意，参数定义的顺序必须是：必选参数、默认参数、可变参数、命名关键字参数和关键字参数。
> * `*args`是可变参数，args接收的是一个tuple.
> * `**kw`是关键字参数，kw接收的是一个dict
> * 可变参数既可以直接传入：`func(1, 2, 3)`，又可以先组装list或tuple，再通过`*args传入：func(*(1, 2, 3))`；
> * 关键字参数既可以直接传入：func(a=1, b=2)，又可以先组装dict，再通过`**kw传入：func(**{'a': 1, 'b': 2})`。
> * 使用`*args`和`**kw`是Python的习惯写法，当然也可以用其他参数名，但最好使用习惯用法。

### 默认参数

默认注意点:

* 一是必选参数在前，默认参数在后，否则Python的解释器会报错（思考一下为什么默认参数不能放在必选参数前面）；
* 当函数有多个参数时，把变化大的参数放前面，变化小的参数放后面。变化小的参数就可以作为默认参数。

```python
def add_end(L=[]):
    L.append('END')
    return L
    
>>> add_end()
['END']
>>> add_end()
['END', 'END']
>>> add_end()
['END', 'END', 'END']
# 默认参数是[]，但是函数似乎每次都“记住了”上次添加了'END'后的list。
```
Python函数在定义的时候，默认参数L的值就被计算出来了，即[]，因为默认参数L也是一个变量，它指向对象[]，每次调用该函数，如果改变了L的内容，则下次调用时，默认参数的内容就变了，不再是函数定义时的[]了。

**解决方案:** 尽量使用'str', 'None'这些不变对象. 对象内部的数据就不能修改，这样就减少了由于修改数据导致的错误。此外，由于对象不变，多任务环境下同时读取对象不需要加锁

```py
def add_end(L=None):
    if L is None:
        L = []
    L.append('END')
    return L
```

### 多参数
```py
>>> extra = {'city': 'Beijing', 'job': 'Engineer'}
>>> person('Jack', 24, **extra)
name: Jack age: 24 other: {'city': 'Beijing', 'job': 'Engineer'}
```
**注意:** `**extra`方式传入参数表示把extra这个dict的所有key-value用关键字参数传入到函数的`**kw`参数，kw将获得一个dict，**注意kw获得的dict是extra的一份拷贝，对kw的改动不会影响到函数外的extra**.


